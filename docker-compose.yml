services:
  syslog2dockerlog:
    build: .
    container_name: syslog2dockerlog
    volumes:
      - /var/log:/var/log:ro
      - ./config/syslog2dockerlog.config:/etc/syslog2dockerlog/syslog2dockerlog.config:ro
    environment:
      - HEALTH_MAX_AGE_SECONDS=180
      - HEALTH_FILE=/run/syslog2dockerlog/health.json
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "python", "/app/healthcheck.py"]
      interval: 30s
      timeout: 5s
      retries: 3
      start_period: 20s
